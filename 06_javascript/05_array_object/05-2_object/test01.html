<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>며칠 지났는지 알아보기</title>
    <style>
        body {
            font-family: "Pretendard", sans-serif;
            margin: 0;
            padding: 10px;
            color: #333;
            background: #fff;
        }

        .dayinput_wrap {
            width: 300px;
            margin: 0 auto;
            background: #fffbf1;
            border: 2px solid #fbbf24;
            border-radius: 20px;
            padding: 15px;
        }

        .dayinput_wrap::before {
            content: "D-day ♥";
            display: block;
            font-weight: bold;
            font-size: 20px;
            margin-bottom: 15px;
            color: #fbbf24;
        }

        label {
            display: block;
            margin: 10px;
            font-size: 15px;
            font-weight: 400;
            color: #444;
        }

        #dayinput_text,
        #numtext {
            display: block;
            width: 250px;
            padding: 8px;
            margin-top: 10px;
            border: 2px solid #fcd34d;
            border-radius: 15px;
            background: #fffdf5;
        }

        #dayinput_text:focus {
            outline: none;
            border: 2px solid #ff9900;
        }

        #checkone {
            margin-right: 5px;
            accent-color: #fcd34d;
        }

        #numtext:focus {
            outline: none;
            border: 2px solid #ff9900;
        }

        button {
            margin-top: 10px;
            padding: 10px 15px;
            border: none;
            border-radius: 15px;
            background: #fcd34d;
            color: #ffffff;
            font-weight: bold;
            cursor: pointer;
        }

        button:hover {
            background: #ff9900;
        }

        #accent {
            margin: 20px 0 10px;
            font-size: 1.3rem;
            font-weight: bold;
            color: #f59e0b;
            display: flex;
            justify-content: center;
        }

        #date {
            margin: 0;
            font-size: 1rem;
            color: #444;
            display: flex;
            justify-content: center;
        }
    </style>
</head>

<body>
    <div class="dayinput_wrap">
        <!-- 처음 만난 날 입력 -->
        <label>
            처음 만난 날 (예:2025-09-05)
            <input type="text" id="dayinput_text" placeholder="-포함해서 입력(YYYY-MM-DD)">
        </label>

        <!-- 체크하면 오늘을 1일로 계산 -->
        <label>
            오늘부터 1일
            <input type="checkbox" id="checkone">
        </label>

        <!-- 특정 기념일 입력 -->
        <label>
            기념일 계산 (예: 100)
            <input type="text" id="numtext" placeholder="숫자만 입력">
        </label>

        <!-- 버튼 클릭시 계산 실행 -->
        <button type="button" onclick="insertInput()">입력</button>
    </div>

    <!-- 결과 표시 영역 -->
    <p id="accent"></p>
    <p id="date"></p>

    <script>
        //오늘날짜
        let now = new Date();
        let toNow = now.getTime(); //오늘 날짜를 밀리초로 변환

        const day = 1000 * 60 * 60 * 24; //1일(24시간)을 밀리초로 환산
        const checkbox = document.getElementById('checkone');

        let numtext; //사용자가 입력한 기념일 숫자
        let toFirst; //처음 만난 날을 밀리초로 변환한 값

        //입력 버튼 클릭시 실행되는 함수
        function insertInput() {
            //입력값 가져오기
            let dayInputText = document.getElementById('dayinput_text').value;
            numtext = document.getElementById('numtext').value;

            //처음 만난 날을 Date 객체로 변환
            let firstDay = new Date(dayInputText);
            toFirst = firstDay.getTime(); //밀리초로 변환

            //경과 시간(오늘 - 처음만난 날)
            let passedTime = toNow - toFirst;

            //일 단위로 변환
            let passedDay;
            if (checkbox.checked) { //오늘부터 1일 체크한 경우 : +1일
                passedDay = Math.round(passedTime / day) + 1;
            } else {
                passedDay = Math.round(passedTime / day);
            }
            //며칠 지났는지 출력
            document.getElementById('accent').innerHTML =
                `함께한지 <b>${passedDay}일</b>`

            calcDate(numtext);
        }

        //기념일 날짜 계산 함수
        function calcDate(a) {
            //처음만난 날 + (기념일 * 하루)
            let future = toFirst + a * day;
            let sumDay = new Date(future);

            //년 월 일 추출
            let year = sumDay.getFullYear();
            let month = sumDay.getMonth() + 1;
            let date = sumDay.getDate();

            //오늘부터 1일 체크시 하루 보정
            if (checkbox.checked) {
                date = sumDay.getDate() - 1;
            }

            //결과 출력
            document.getElementById('date').innerHTML =
                `${a}일 기념일 : ${year}년 ${month}월 ${date}일`;
        }
    </script>
</body>

</html>